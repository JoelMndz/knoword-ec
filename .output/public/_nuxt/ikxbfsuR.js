import{J as A,K as k,d as D,r as P,L as O,M as E,g as e,t as w,N as B,A as o,z as a,O as N,x as S,P as c,Q as j,R as z,v as T,S as G,T as $,U as K,V as L}from"./DW4sSLmw.js";import{u as M}from"./CJXxmimj.js";import{h as I}from"./C5S46NFB.js";const R=A("diccionarioStore",{state:()=>({palabras:[],mostrarFormulario:!1}),actions:{async obtenerPalabras(){const u=await M("/api/diccionario/"+k().data.value._id,{method:"GET"},"$KpcjgsTdjI");this.palabras=u.data.value},async guardarPalabra(u){const r=await $fetch("/api/diccionario",{method:"POST",body:{...u,_estudiante:k().data.value._id}});this.palabras.push(r)},async eliminarPalabra(u){await $fetch("/api/diccionario/eliminar/"+u,{method:"delete"}),this.palabras=this.palabras.filter(r=>r._id!==u)},abrirFormulario(){this.mostrarFormulario=!0},cerrarFormulario(){this.mostrarFormulario=!1}}}),J=D({__name:"FormPalabraDiccionario",setup(u){const r=R(),p=P(null),m=P(!1),s=O({nombre:"",definicion:""}),V={campoObligatorio:[d=>!!d||"Campo obligatorio!"]},y=async()=>{const{valid:d}=await p.value.validate();d&&(m.value=!0,await r.guardarPalabra(s),m.value=!1,r.cerrarFormulario())};return E(()=>{r.cerrarFormulario()}),(d,t)=>{const n=e("VTextField"),l=e("VTextarea"),b=e("VSpacer"),C=e("VBtn"),v=e("VCol"),x=e("VRow"),g=e("VForm"),F=e("VCardText"),h=e("VCard");return w(),B(h,{title:"Agregar palabra al diccionario"},{default:o(()=>[a(F,null,{default:o(()=>[a(g,{onSubmit:N(y,["prevent"]),ref_key:"formulario",ref:p},{default:o(()=>[t[2]||(t[2]=S("label",null,"Palabra:",-1)),a(n,{modelValue:c(s).nombre,"onUpdate:modelValue":t[0]||(t[0]=_=>c(s).nombre=_),rules:V.campoObligatorio,class:"mt-2"},null,8,["modelValue","rules"]),t[3]||(t[3]=S("label",null,"Definición:",-1)),a(l,{modelValue:c(s).definicion,"onUpdate:modelValue":t[1]||(t[1]=_=>c(s).definicion=_),rules:V.campoObligatorio,rows:"2",class:"mt-2"},null,8,["modelValue","rules"]),a(x,{class:"mt-5"},{default:o(()=>[a(b),a(v,{cols:"auto"},{default:o(()=>[a(C,{text:"Guardar palabra",type:"submit",loading:c(m)},null,8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}}),W=D({__name:"index",async setup(u){let r,p;const m=R(),{mostrarFormulario:s,palabras:V}=j(m),y=t=>{const n=window.speechSynthesis,l=new SpeechSynthesisUtterance(t.nombre);l.lang="en-US",n.speak(l)},d=async(t,n)=>{await m.eliminarPalabra(t)};return[r,p]=z(()=>m.obtenerPalabras()),await r,p(),(t,n)=>{const l=e("VBtn"),b=e("VCol"),C=e("VRow"),v=e("VCardActions"),x=e("VCard"),g=e("VDialog"),F=e("VSpacer"),h=e("VContainer"),_=J;return w(),T($,null,[a(h,null,{default:o(()=>[n[2]||(n[2]=S("h1",{class:"text-h4 text-center"},"Diccionario",-1)),a(C,null,{default:o(()=>[a(b,null,{default:o(()=>[a(l,{icon:"mdi-plus",class:"rounded-circle",onClick:n[0]||(n[0]=i=>c(m).abrirFormulario())})]),_:1})]),_:1}),a(C,null,{default:o(()=>[(w(!0),T($,null,K(c(V),i=>(w(),B(b,{cols:"12",sm:"6",md:"3",key:i._id},{default:o(()=>[a(x,{title:i.nombre,subtitle:`${c(I)(i.createdAt).format("DD-mm-yyyy")}`,text:i.definicion,elevation:"5"},{default:o(()=>[a(v,null,{default:o(()=>[a(g,{"max-width":"450"},{activator:o(({props:f})=>[a(l,L({ref_for:!0},f,{icon:"mdi-delete",color:"error",variant:"tonal",size:"small"}),null,16)]),default:o(({isActive:f})=>[a(x,{title:"Eliminar palabra",text:`¿Estas seguro de eliminar la palabara '${i.nombre}'?`},{default:o(()=>[a(v,null,{default:o(()=>[a(l,{text:"Cancelar",color:"error",onClick:U=>f.value=!1,variant:"tonal"},null,8,["onClick"]),a(l,{text:"Confirmar",onClick:U=>d(i._id,f.value),variant:"tonal"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["text"])]),_:2},1024),a(F),a(l,{text:"Reproducir",variant:"tonal","append-icon":"mdi-music",onClick:f=>y(i)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title","subtitle","text"])]),_:2},1024))),128))]),_:1})]),_:1}),a(g,{"model-value":c(s),"onUpdate:modelValue":n[1]||(n[1]=i=>G(s)?s.value=i:null),"max-width":"450"},{default:o(()=>[a(_)]),_:1},8,["model-value"])],64)}}});export{W as default};
