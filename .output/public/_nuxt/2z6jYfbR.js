import{_ as N}from"./DG6hG6rJ.js";import{d as R,R as U,r as V,g as n,N as b,A as t,X as S,t as m,x as w,y as D,P as s,z as e,S as P,B as E,a0 as I,v as z,U as G,T as J,V as M,_ as O}from"./DW4sSLmw.js";import{u as X}from"./CJXxmimj.js";const j={class:"text-h3 text-center"},q=R({__name:"[id]",async setup(H){let c,v;const{data:$}=([c,v]=U(()=>X("/api/cuestionario/por-id/"+S().params.id,"$f4JV9hUrzS")),c=await c,v(),c),l=V($.value),i=V(!1),d=V(""),B=async u=>{i.value=!1,l.value.palabras.push(u);const a=await $fetch("/api/cuestionario/palabra",{method:"POST",body:{...u,_cuestionario:l.value._id}});l.value.palabras=a==null?void 0:a.palabras},F=async(u,a,C)=>{l.value.palabras=l.value.palabras.filter((r,f)=>r._id&&r._id!==a._id||f!==u),a._id&&await $fetch("/api/cuestionario/palabra/eliminar",{method:"PUT",body:{_cuestionario:l.value._id,_palabra:a._id}})};return(u,a)=>{const C=n("VTextField"),r=n("VCol"),f=n("VIcon"),_=n("VBtn"),x=n("VRow"),T=n("VCardActions"),g=n("VCard"),y=n("VDialog"),h=N,A=n("VContainer");return m(),b(A,null,{default:t(()=>[w("h2",j,D(s(l).nombre),1),e(x,{class:"mt-5"},{default:t(()=>[e(r,null,{default:t(()=>[e(C,{modelValue:s(d),"onUpdate:modelValue":a[0]||(a[0]=o=>P(d)?d.value=o:null),modelModifiers:{trim:!0},"prepend-inner-icon":"mdi-magnify",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{cols:"auto"},{default:t(()=>[e(_,{onClick:a[1]||(a[1]=o=>i.value=!0)},{default:t(()=>[e(f,{icon:"mdi-plus"}),a[3]||(a[3]=E(" Agregar palabra "))]),_:1})]),_:1})]),_:1}),e(x,null,{default:t(()=>[e(I,{name:"palabras"},{default:t(()=>[s(l).palabras.length>0?(m(!0),z(J,{key:0},G(s(l).palabras.filter(o=>o.palabra.toLocaleLowerCase().includes(s(d).toLocaleLowerCase())),(o,k)=>(m(),b(r,{cols:"12",key:k},{default:t(()=>[e(g,{title:o.palabra,subtitle:o.definicion},{append:t(()=>[e(y,null,{activator:t(({props:p})=>[e(_,M({ref_for:!0},p,{icon:"mdi-delete",variant:"text",color:"error"}),null,16)]),default:t(({isActive:p})=>[e(g,{title:"Eliminar palabra",text:`Â¿Estas seguro de eliminar la palabara '${o.palabra}'?`},{default:t(()=>[e(T,null,{default:t(()=>[e(_,{text:"Cancelar",color:"error",onClick:L=>p.value=!1,variant:"tonal"},null,8,["onClick"]),e(_,{text:"Confirmar",onClick:L=>F(k,o,p.value),variant:"tonal"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["text"])]),_:2},1024)]),_:2},1032,["title","subtitle"])]),_:2},1024))),128)):(m(),b(r,{key:1},{default:t(()=>a[4]||(a[4]=[w("p",null,"No hay preguntas",-1)])),_:1}))]),_:1})]),_:1}),e(y,{"max-width":"600",modelValue:s(i),"onUpdate:modelValue":a[2]||(a[2]=o=>P(i)?i.value=o:null)},{default:t(()=>[e(h,{onProcesarFormulario:B})]),_:1},8,["modelValue"])]),_:1})}}}),Y=O(q,[["__scopeId","data-v-c00fc943"]]);export{Y as default};
