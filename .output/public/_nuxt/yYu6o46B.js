import{_ as E,a as I}from"./koVc5S1I.js";import{d as R,r as c,L as S,g as l,N as _,A as n,t as b,z as t,B as P,O as U,P as o,Y as O,x as u,m as $}from"./DW4sSLmw.js";import{R as g}from"./BgQvoqQB.js";import{u as j}from"./CJXxmimj.js";const Q=R({__name:"registro",setup(A){const p=c(null),i=c(null),a=S({nombre:"",email:"",password:"",rol:g.Estudiante}),m=c(!1),d={nombre:[r=>r.length>=4||"Mínimo 4 caracteres"],email:[r=>/.+@.+\..+/.test(r)||"El email no tiene el formato correcto!"],password:[r=>r.length>=8||"Mínimo 8 caracteres"]},v=async()=>{const{valid:r}=await p.value.validate();if(!r)return;m.value=!0;const e=await j("/api/autenticacion/registro",{method:"POST",body:a},"$T6Dt6sISwQ");m.value=!1,e.error.value?i.value=e.error.value.statusMessage:$("/")};return(r,e)=>{const x=l("VCardTitle"),C=E,V=l("VTextField"),w=I,y=l("VSelect"),f=l("VBtn"),T=l("VForm"),M=l("VCardText"),k=l("VCard"),B=l("VCol"),F=l("VRow"),N=l("VContainer");return b(),_(N,null,{default:n(()=>[t(F,{style:{height:"90vh"},justify:"center",align:"center"},{default:n(()=>[t(B,{cols:"9",md:"7",lg:"5"},{default:n(()=>[t(k,{class:"pa-5"},{default:n(()=>[t(x,{class:"text-h4"},{default:n(()=>e[4]||(e[4]=[P("Crear cuenta")])),_:1}),t(M,null,{default:n(()=>[t(T,{ref_key:"formulario",ref:p,onSubmit:U(v,["prevent"]),readonly:o(m)},{default:n(()=>[o(i)?(b(),_(C,{key:0,texto:o(i),class:"mb-3"},null,8,["texto"])):O("",!0),e[5]||(e[5]=u("label",null,"Nombre:",-1)),t(V,{modelValue:o(a).nombre,"onUpdate:modelValue":e[0]||(e[0]=s=>o(a).nombre=s),modelModifiers:{trim:!0},type:"text",class:"mt-2",rules:d.nombre,placeholder:"Ingresa tu nombre"},null,8,["modelValue","rules"]),e[6]||(e[6]=u("label",null,"Email:",-1)),t(V,{modelValue:o(a).email,"onUpdate:modelValue":e[1]||(e[1]=s=>o(a).email=s),modelModifiers:{trim:!0},type:"email",class:"mt-2",rules:d.email,placeholder:"Ingresa tu email"},null,8,["modelValue","rules"]),e[7]||(e[7]=u("label",null,"Password:",-1)),t(w,{model:o(a).password,"onUpdate:model":e[2]||(e[2]=s=>o(a).password=s),modelModifiers:{trim:!0},class:"mt-2",placeholder:"Ingresa la contraseña",rules:d.password},null,8,["model","rules"]),e[8]||(e[8]=u("label",null,"Eres un:",-1)),t(y,{modelValue:o(a).rol,"onUpdate:modelValue":e[3]||(e[3]=s=>o(a).rol=s),items:Object.values(o(g)),class:"mt-2"},null,8,["modelValue","items"]),t(f,{text:"Registrarse",class:"py-6",block:"",type:"submit",loading:o(m)},null,8,["loading"]),t(f,{text:"¿Ya tienes cuenta?",to:"/",block:"",class:"mt-3",variant:"outlined"})]),_:1},8,["readonly"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Q as default};
